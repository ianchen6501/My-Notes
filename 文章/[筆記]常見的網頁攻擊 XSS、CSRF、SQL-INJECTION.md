## 總覽

| 種類 | XSS                                                                                                                        | SQL INJECTION                                                                                                             | CSRF |
| ---- | -------------------------------------------------------------------------------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------- | ---- |
| 定義 | 主要是透過使用者輸入資料或點擊等行為，讓網站執行 JS 語句，來達成惡意行為，有分為儲存型、反射型、DOM 型(也是反射型的一種)。 | 透過修改 SQL query 的邏輯判斷條件(如輸入一個永遠為真的條件)，來達成 attacker 的惡意 SQL query(獲取使用者資料或刪除資料等) |      |

## XSS

首先先來看看不同 XSS 攻擊型態的比較。

| 種類     | 儲存型                                                                                                | 反射型                                                                                                                                        | DOM 型                                                                                 |
| -------- | ----------------------------------------------------------------------------------------------------- | --------------------------------------------------------------------------------------------------------------------------------------------- | -------------------------------------------------------------------------------------- |
| 方法     | 透過輸入留言等方式，把 JS code 夾雜其中，如果伺服器沒有檢查，就會儲存在 DB ，並對其他訪問者造成影響。 | 誘使使用者點擊，並發出含惡意代碼的 url，伺服器會返回使用者發出的 url，並利用 url 的 query 使瀏覽器執行如獲取 cookies 等行為，達成釣魚的目的。 | 透過輸入惡意的內容(JS)在前端更動 DOM ，讓使用者點擊時會觸發惡意行為。                  |
| 目的     | 改變網站的預期行為                                                                                    | 獲取使用者 cookies 或釣魚                                                                                                                     | 獲取使用者 cookies 或釣魚                                                              |
| 作用地點 | DB、瀏覽器                                                                                            | 瀏覽器                                                                                                                                        | 瀏覽器(可更改 DOM)                                                                     |
| 如何防止 | 前後端進行字元跳脫(escape / filter)或編碼。                                                           | 針對 url query string 重新進行編碼。                                                                                                          | 需在前端檢查，通常都是有用到 `.innterHTML()`或`.html()`語法，盡量都使用 `.innerText()` |

## SQL injection

### 參考內容

[DOM-XSS 攻擊原理與防禦](https://www.mdeditor.tw/pl/pQzv/zh-tw)
[『 Day 10 』Web Security - A7 . Cross-Site Scripting (XSS) - 下篇](https://ithelp.ithome.com.tw/articles/10220667)
[[第十二週] 資訊安全 - 常見攻擊：XSS、SQL Injection
SQL Injection](https://yakimhsu.com/project/project_w12_Info_Security-XSS_SQL.html)

s
